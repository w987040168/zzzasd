"use strict";function asyncGeneratorStep(n,s,a,i,t,d,o){try{var c=n[d](o),p=c.value}catch(n){return void a(n)}c.done?s(p):Promise.resolve(p).then(i,t)}function _asyncToGenerator(c){return function(){var n=this,o=arguments;return new Promise(function(s,a){var i=c.apply(n,o);function t(n){asyncGeneratorStep(i,s,a,t,d,"next",n)}function d(n){asyncGeneratorStep(i,s,a,t,d,"throw",n)}t(void 0)})}}$(function(){var i=null,t=getCookie("good_id");function n(){return(n=_asyncToGenerator(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.get("../server/getGoodsInfo.php",{goods_id:t},null,"json");case 2:a=n.sent,s=a.info,console.log(s),$(".pdBreadcrumb").html("<span>\n        <span>\n            首页\n        </span>\n        <span>/</span>\n    </span>\n    <span>\n        <span>\n            ".concat(s.cat_id,"\n        </span>\n        <span>/</span>\n    </span>\n    <span>\n        <span>").concat(s.goods_name,"</span>\n    </span>")),$(".pdpImages").html('\n        <div class="pdpImages-bigImages">\n                        <img src="'.concat(s.goods_big_logo,'" alt="">\n                        <div class="mask">\n\n                        </div>\n                    </div>\n                    <div class="pdpImages-smallImages-box">\n                        <div class="pdpImages-smalls">\n                            <div class="pdpImages-small">\n                                <img src="').concat(s.goods_small_logo,'" alt="">\n                            </div>\n                            \n                        </div>\n\n                    </div>\n                    <div class="pdpImages-maximg">\n                        <img src="').concat(s.goods_big_logo,'" alt="">\n                    </div>')),$(".pdpInfo").html("\n        \n        <p>".concat(s.goods_name,"</p>\n        <p>").concat(s.cat_one_id," / ").concat(s.cat_two_id," / ").concat(s.cat_three_id,'</p>\n        <div class="pdpInfo-activity">\n            <span>挚爱星品  ').concat(s.cat_two_id,'</span>\n        </div>\n        <div class="pdpInfo-item">\n            <div class="pdpInfo-item-left">\n                <div class="name">\n                    活动价\n                </div>\n                <div class="symbol">\n                    ￥\n                </div>\n                <div class="price">\n                    ').concat(s.goods_price,'\n                </div>\n            </div>\n            <div class="pdpInfo-item-right">\n                <span>累计评价 ').concat(s.goods_weight,'</span>\n            </div>\n        </div>\n        <div class="pdpInfo-service">\n            <div class="pdpInfo-service-left">\n                <div class=".nname">\n                    服务\n                </div>\n            </div>\n            <div class="pdpInfo-service-right">\n                <div class="pdpInfo-service-right-item">\n                    <span>\n                        免邮费\n                    </span>\n                </div>\n                <div class="pdpInfo-service-right-item">\n                    <span>\n                        官方正品保障\n                    </span>\n                </div>\n                <div class="pdpInfo-service-right-item">\n                    <span>\n                        两年全国联保\n                    </span>\n                </div>\n                <div class="pdpInfo-service-right-item">\n                    <span>\n                        7天无忧退换货\n                    </span>\n                </div>\n                <div class="pdpInfo-service-right-item">\n                    <span>\n                        24小时发货\n                    </span>\n                </div>\n            </div>\n        </div>\n        <div class="pdpInfo-limit">\n            <div class="pdpInfo-limit-name">\n                限制\n            </div>\n            <span>\n                特价商品不可与优惠券叠加使用\n            </span>\n        </div>\n        <div class="pdpInfo-guige">\n            <div class="pdpInfo-guige-left">\n                <div>规格</div>\n            </div>\n            <div class="pdpInfo-guige-right">\n                <div class="pdpInfo-guige-right-img">\n                    <img src="').concat(s.goods_small_logo,'" alt="">\n                </div>\n            </div>\n        </div>\n        <div class="pdpInfo-shuliang">\n            <div class="pdpInfo-shuliang-left">\n                数量\n            </div>\n            <div class="pdpInfo-shuliang-right">\n                <span  class="subNum">-</span>\n                \n                <div class="el-input">\n                    <input type="text" value="1" class="cartNum">\n                </div>\n                <span  class="addNum">+</span>\n            </div>\n        </div>\n        <div class="pdpInfo-item-button">\n            <button>\n                <span class="addCart">加入购物车 </span>\n            </button>\n            <button>\n                <a href="../pages/cart.html"><span>立即购买 </span></a>\n            </button>\n        </div>\n    </div>\n        ')),$(".pdp-bottom").html(s.goods_introduce),i=a.info;case 5:case"end":return n.stop()}var s},n)}))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),$(".pdpInfo").on("click",".subNum",function(){var n=+$(".cartNum").val();1!=n&&$(".cartNum").val(n-1)}).on("click",".addNum",function(){var n=+$(".cartNum").val();$(".cartNum").val(1+n)}),$(".pdpInfo").on("click",".addCart",function(){var n,s=JSON.parse(window.localStorage.getItem("cart"))||[];s.some(function(n){return n.goods_id===t})?(n=s.filter(function(n){return n.goods_id===t})[0]).cart_number=+n.cart_number+ +$(".cartNum").val():(i.cart_number=1,s.push(i)),window.localStorage.setItem("cart",JSON.stringify(s))})});