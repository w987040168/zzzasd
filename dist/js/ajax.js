"use strict";function ajax(e){if(void 0===e.url||"string"!=typeof e.url)throw new Error("您的url 不对");if(void 0!==e.method&&!/^(get|post)$/i.test(e.method))throw new Error("目前只支持 GET 和 POST 方式");if(void 0!==e.data&&!/^(.+=.+&?)*$/i.test(e.data))throw new Error("请按照格式传递数据");if(void 0!==e.async&&"boolean"!=typeof e.async)throw new Error("async 只接受布尔类型");if(void 0!==e.success&&"function"!=typeof e.success)throw new Error("success 必须是一个函数类型");var t={url:e.url,method:e.method||"GET",data:e.data||"",async:"boolean"!=typeof e.async||e.async,success:e.success||function(){}};"GET"===t.method.toUpperCase()&&""!==t.data&&(t.url=t.url+"?"+t.data);var o=new XMLHttpRequest;o.open(t.method,t.url,t.async),o.onload=function(){t.success(o.responseText)},"POST"===t.method.toUpperCase()?(o.setRequestHeader("content-type","application/x-www-form-urlencoded"),o.send(t.data)):o.send()}function pAjax(o){return new Promise(function(t,e){ajax({url:o.url,data:o.data,async:o.async,method:o.method,success:function(e){t(e)}})})}